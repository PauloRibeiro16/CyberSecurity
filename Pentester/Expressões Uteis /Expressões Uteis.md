# Expressões Uteis

Windows

```bash
Get-ChildItem -recurse . ---fazer a listagem de todos os ficheiros das diretorias
gci -recurse .| select fullname
```

Pesquisar nas diretorias por password na diretoria currente

```bash
grep -RI password .

find / -readable 

find / -user www-data 2>/dev/null | grep -v '/proc\|/run\|/var/www'

Utilizadores com login
cat /etc/passwd | grep -v 'false\|nologin'
```

Pesquisar todos os access log exluido o parametro

```bash
zcat access.log1.*.gz | grep -iv 'parametro1\parametro2|'

encontra ficheiro
find / -readable 
find / -user jimmy 2>/dev/null
```

Strings

```bash
strings backup.mdb -n 8 > wordlist -- o -n 8 indica que sao stings com pelo menos 8 caracteres
```

PST

```bash
readpst Access\ Control.pst
```

Ler ficheiros Windows 

```jsx
cat ues.txt | incov -f UTF-16FE -t utf-8 | xxd
```

Mount 

```
sudo mount -t cifs -o 'username=TempUser,password=welcome2019' //10.129.41.123/Data /mnt/data/
```

- Linux Password Mining
    - Password from memory
        
        ps -ef
        
        ![Untitled](Expresso%CC%83es%20Uteis%209a3f19cad6134711b8dc056747cbc702/Untitled.png)
        
        `ps -ef | grep <SERVICE_NAME>`
        
        We can utilize GDB to `dump the memory of the Bash service` in order to reveal
        credentials that may have been entered in the Bash session earlier on by other users.
        This can be done by running the following command on the target system:
        `gdb -p <PID>`
        
        `info proc mappings`
        
        ![Untitled](Expresso%CC%83es%20Uteis%209a3f19cad6134711b8dc056747cbc702/Untitled%201.png)
        
        Take note of the start and end addresses for the heap, as highlighted in the
        preceding screenshot, as we will need these addresses in order to dump the memory
        of the service.
        
        `dump memory <OUTPUT_FILE> <START_ADDRESS> <STOP_ADDRESS>`
        
        `strings /<OUTPUT_FILE> | grep passw`
        
        ![Untitled](Expresso%CC%83es%20Uteis%209a3f19cad6134711b8dc056747cbc702/Untitled%202.png)
        
    - Password Configuration files
        
        `grep --color=auto -rnw '/' -ie "PASSWORD" --color=always 2> /dev/null`
        
        `grep --color=auto -rnw '/etc' -ie "PASSWORD" --color=always 2> /dev/null`
        
        `grep --color=auto -rnw '/home/user' -ie "PASS" --color=always 2> /dev/null`
        
        `find /etc -type f -exec grep -i -I "PASS" {} /dev/null \;`
        
        `find /home/user -type f -exec grep -i -I "PASS" {} /dev/null \;`
        
    - Password in History Files
        
        `cat /home/user/.bash_history | grep "pass”`
        
        `history`